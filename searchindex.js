Search.setIndex({"docnames": ["index", "tutorials/Tutorials", "tutorials/evaluation", "tutorials/hfmodel", "tutorials/hierarchy", "tutorials/temporalhfmodel"], "filenames": ["index.rst", "tutorials/Tutorials.rst", "tutorials/evaluation.rst", "tutorials/hfmodel.rst", "tutorials/hierarchy.rst", "tutorials/temporalhfmodel.rst"], "titles": ["Welcome to pyhts\u2019s documentation!", "Quick Start", "Model Evaluation", "Hierarchical Forecasting Model", "Define Hierarchy", "Temporal hierarchical forecasting model"], "terms": {"quick": 0, "start": 0, "defin": [0, 2], "hierarchi": [0, 2, 3, 5], "fit": [0, 2], "forecast": [0, 2, 4], "hfmodel": [0, 2, 5], "model": 0, "evalu": [0, 1], "pyth": 1, "python": 1, "packag": [1, 3], "us": [1, 2, 3, 4, 5], "hierarch": [1, 4], "implement": [1, 3, 5], "multipl": [1, 4], "reconcili": [1, 3, 5], "method": [1, 3, 4, 5], "which": [1, 2, 3, 4], "ar": [1, 3, 4, 5], "popular": 1, "literatur": 1, "ol": [1, 3, 5], "1": [1, 3, 4, 5], "wl": [1, 3, 5], "2": [1, 3, 4, 5], "mint": [1, 3, 5], "3": [1, 4, 5], "et": [1, 3, 4], "al": [1, 3, 4], "featur": 1, "support": [1, 2, 3], "e": [1, 2], "g": [1, 2, 3, 4], "tempor": [1, 2], "futur": [1, 2, 5], "construct": [1, 4, 5], "differ": [1, 4], "base": [1, 2, 5], "level": [1, 2, 3, 4, 5], "familiar": 1, "sklearn": 1, "like": [1, 2], "api": 1, "The": [1, 3, 4, 5], "step": [1, 3], "thi": [1, 4], "follow": [1, 4], "structur": [1, 3, 4, 5], "accord": 1, "your": [1, 3], "data": [1, 3, 4], "histori": [1, 2, 3], "time": [1, 2, 3, 4, 5], "seri": [1, 2, 3, 4, 5], "gener": [1, 3, 5], "reconcil": [1, 2, 3, 5], "obtain": [1, 2], "coher": [1, 2, 3], "point": 1, "you": [1, 2, 3, 4], "can": [1, 2, 3, 4, 5], "classmethod": [1, 4], "pyht": [1, 2, 3, 4, 5], "see": 1, "detail": 1, "As": [1, 3], "an": [1, 3, 4], "exampl": [1, 4], "shown": 1, "figur": 1, "below": 1, "let": 1, "s": 1, "from_node_list": [], "from_nam": 3, "from": [1, 3, 4, 5], "import": [1, 3, 4, 5], "node_list": [], "period": [1, 2, 3, 4], "12": [1, 2, 3, 4, 5], "col_nam": [], "aa": 1, "ab": 1, "bc": 1, "bd": [], "hierarchy2": [], "char": [], "print": 1, "node_nam": [1, 4], "arrai": [1, 2, 3, 4, 5], "total": 4, "A": [1, 3, 4], "b": [1, 4], "dtype": [1, 3, 4], "u5": [], "where": [1, 3, 4], "frequenc": [1, 4], "m": [1, 2, 3], "mean": [1, 2, 3, 4], "monthli": [1, 4, 5], "simpl": 1, "auto": 1, "arima": [1, 3, 5], "ols_model": [1, 3], "base_forecast": [1, 2, 3, 5], "hf_method": [1, 3, 5], "comb": [1, 3, 5], "comb_method": [1, 3, 5], "abov": [1, 3], "now": [1, 3], "r": [1, 3, 4], "call": [], "rpy2": [], "also": [1, 3, 4], "custom": 1, "each": [1, 3, 4, 5], "hf_model": 1, "classic": [1, 4], "top": [1, 4, 5], "down": [1, 4], "bottom": [1, 2, 3, 4], "up": 1, "middl": [1, 4], "out": 1, "would": 1, "comput": [1, 2, 3], "matrix": [1, 3, 4, 5], "numpi": [1, 5], "np": [1, 3, 5], "random": [1, 5], "108": 1, "4": [1, 4], "train": [1, 2, 3], "test": [1, 2, 3], "get": 1, "reconciled_forecast": 1, "predict": [1, 2, 3], "horizon": [1, 2, 3, 5], "shape": [1, 2, 3], "just": 1, "contain": [1, 2, 4, 5], "aggregate_t": [1, 3, 4], "all": [1, 2], "reconciled_forecasts_all_level": 1, "7": 1, "accuraci": [1, 2, 5], "both": [1, 4], "accuray_bas": 1, "respect": 1, "generate_base_forecast": [1, 2, 5], "accuracy_bas": [1, 2], "hist": [1, 2, 3], "none": [1, 2, 3, 4, 5], "mase": [1, 2, 5], "mape": [1, 2, 5], "return": [1, 2, 3, 4, 5], "need": [1, 3, 5], "hyndman": [1, 3, 4], "ahm": [1, 3], "athanasopoulo": [1, 3, 4], "h": [1, 2, 3], "l": [1, 3], "shang": [1, 3], "optim": [1, 3, 5], "combin": [1, 3, 4, 5], "statist": [1, 3], "analysi": [1, 3], "vol": [1, 3], "55": [1, 3], "9": [1, 3], "pp": [1, 3], "2579": [1, 3], "2589": [1, 3], "sep": [1, 3], "2011": [1, 3], "doi": [1, 3, 4], "10": [1, 3, 4], "1016": [1, 3, 4], "j": [1, 3, 4], "csda": [1, 3], "03": [1, 3], "006": [1, 3], "panagiot": 1, "p": 1, "gamakumara": 1, "geometr": 1, "view": 1, "new": [1, 4, 5], "insight": 1, "bia": 1, "correct": 1, "intern": 1, "journal": [1, 3, 4], "37": 1, "343": 1, "359": 1, "jan": 1, "2021": [1, 4], "ijforecast": 1, "2020": 1, "06": 1, "004": 1, "wickramasuriya": [1, 3], "group": [1, 3, 4], "through": [1, 2, 3], "trace": [1, 3], "minim": [1, 3], "american": [1, 3], "associ": [1, 3], "114": [1, 3], "526": [1, 3], "804": [1, 3], "819": [1, 3], "apr": [1, 3], "2019": [1, 3], "1080": [1, 3], "01621459": [1, 3], "2018": [1, 3], "1448825": [1, 3], "after": 2, "real": [2, 5], "pred": [2, 5], "measur": [2, 5], "calcul": [2, 3], "paramet": [2, 3, 4, 5], "observ": [2, 3, 5], "forecast_horizon": 2, "valu": [2, 4, 5], "n": [2, 3, 4], "union": [2, 3, 5], "int": [3, 4, 5], "list": [2, 3, 4], "histor": [2, 5], "option": [2, 3, 4, 5], "str": [2, 3, 4, 5], "mse": 2, "type": [2, 3, 4, 5], "datafram": [1, 2, 3, 4], "assum": [2, 3], "ht": [2, 3, 5], "0": [2, 4, 5], "rmse": [2, 5], "y_true": 2, "y_pred": 2, "mae": 2, "smape": 2, "class": [3, 4, 5], "weight": [3, 5], "constrain_level": [], "__init__": [3, 5], "baseforecast": 3, "statsforecast": [1, 3, 5], "param": 3, "onli": [3, 4], "repres": [3, 4, 5], "ndarrai": [2, 3, 4, 5], "symmetr": 3, "shrinkag": 3, "sampl": 3, "varianc": 3, "constraint": [], "ts": [3, 5], "x_reg": 3, "kwarg": [3, 5], "column": [3, 4], "explanatori": 3, "variabl": 3, "t": 3, "k": 3, "number": 3, "length": 3, "dimens": 3, "pass": [3, 5], "rtype": [], "ahead": 3, "other": [3, 5], "load": 3, "tourism": 3, "dataset": [3, 5], "load_tour": 3, "index": 3, "aaa": 3, "aab": 3, "aba": 3, "abb": 3, "aca": 3, "ada": 3, "adb": 3, "adc": 3, "add": 3, "aea": 3, "aeb": 3, "aec": 3, "AED": 3, "afa": 3, "baa": 3, "bab": 3, "bac": 3, "bba": 3, "bca": 3, "bcb": 3, "bcc": 3, "bda": 3, "bdb": 3, "bdc": 3, "bdd": 3, "bde": 3, "bdf": 3, "bea": 3, "beb": 3, "bec": 3, "bed": 3, "bee": 3, "bef": 3, "beg": 3, "beh": 3, "caa": 3, "cab": 3, "cac": 3, "cba": 3, "cbb": 3, "cbc": 3, "cbd": 3, "cca": 3, "ccb": 3, "ccc": 3, "cda": 3, "cdb": 3, "daa": 3, "dab": 3, "dac": 3, "dba": 3, "dbb": 3, "dbc": 3, "dca": 3, "dcb": 3, "dcc": 3, "dcd": 3, "dda": 3, "ddb": 3, "eaa": 3, "eab": 3, "eac": 3, "eba": 3, "eca": 3, "faa": 3, "fba": 3, "fbb": 3, "fca": 3, "fcb": 3, "gaa": 3, "gab": 3, "gac": 3, "gba": 3, "gbb": 3, "gbc": 3, "gbd": 3, "object": [1, 3, 4], "iloc": 3, "Then": [3, 5], "propos": 3, "wls_structur": 3, "known": [3, 4], "wls_": 3, "mint_vari": 3, "wls_v": 3, "mint_sampl": 3, "mint_shrinakg": 3, "mint_shrinkag": 3, "To": [3, 4], "own": 3, "whatev": 3, "want": [3, 5], "machin": 3, "learn": 3, "deeplearn": 3, "xreg": [3, 5], "insampl": 3, "necessari": 3, "when": 3, "here": [3, 4, 5], "autoarimabaseforecast": 3, "autoarimaforecast": 3, "autoarima": 3, "adapt": 3, "auto_arima_f": 3, "def": 3, "self": 3, "super": 3, "covari": [3, 5], "true": 3, "forecast_arima": 3, "have": [3, 4], "global": 3, "xgboost": 3, "wrap": 3, "xgboostwrapp": 3, "_model": 3, "trained_xgbmodel": 3, "xgb_model": 3, "incoher": 3, "etsbaseforecast": 3, "function": [2, 3], "specifi": [3, 4], "mention": 3, "all_level_forecast": 3, "children": [], "node": [4, 5], "name": [4, 5], "from_long": [], "long": [], "tabl": 4, "from_balance_group": [], "balanc": [], "s_mat": 4, "node_level": 4, "level_nam": [4, 5], "attribut": 4, "sum": 4, "level_n": [], "sublist": [], "For": [4, 5], "first": [], "i": [], "root": [], "int8": 4, "ha": [], "two": 4, "sub": 4, "second": [], "There": 4, "element": 4, "correspond": [4, 5], "non": 4, "season": 4, "consist": [], "sever": [], "part": [], "specif": [], "fix": [], "split": [], "recogn": [], "its": 5, "parent": [], "ba": [], "bb": 1, "same": [3, 4, 5], "charact": [], "group_list": [], "item1": [], "item2": [], "a_item1": [], "a_item2": [], "b_item1": [], "b_item2": [], "u7": [], "df": 4, "kei": [4, 5], "id_col": [], "row": 4, "suitabl": 4, "complex": 4, "pd": [1, 4], "citi": 4, "store": 4, "store1": 4, "store2": 4, "store3": 4, "store4": 4, "u8": [], "categori": 4, "c1": 4, "c2": 4, "determin": 4, "id": [], "exclud": 4, "refer": [], "three": 4, "kind": 4, "regular": 4, "mix": 4, "last": 4, "most": 4, "case": 4, "practic": 4, "In": 4, "tutori": 4, "we": [4, 5], "destruct": 4, "show": 4, "how": 4, "almost": 4, "everi": 4, "seen": 4, "tree": 4, "complet": 4, "uniqu": 4, "product": 4, "subcategori": 4, "item": 4, "geograph": 4, "anoth": 4, "file": 4, "system": 4, "more": 4, "wide": 4, "interact": 4, "still": 4, "sold": 4, "locat": 4, "state": 4, "region": 4, "give": 4, "16": 4, "x": 4, "tag": 4, "while": 4, "usual": 4, "one": [3, 4], "except": 4, "statement": 4, "includ": 4, "some": [4, 5], "rule": 4, "doc": 3, "rst": [], "total_tot": [1, 4], "city_a": 4, "city_b": 4, "store_store1": 4, "store_store2": 4, "store_store3": 4, "store_store4": 4, "tupl": 4, "It": [4, 5], "should": [3, 4, 5], "natur": 4, "string": [4, 5], "order": [3, 4], "principl": 4, "3rd": 4, "ed": 4, "otext": 4, "http": 4, "com": 4, "fpp3": 4, "pattern": 4, "name_attribut": 4, "anm": 4, "panda": 1, "node_df": 1, "level1": 1, "level2": 1, "level1_a": 1, "level1_b": 1, "level2_aa": 1, "level2_ab": 1, "level2_bc": 1, "level2_bb": 1, "iter": [2, 3], "todo": 3, "updat": 3, "aggreg": [4, 5], "provid": 4, "temporalhierarchi": [0, 2, 4, 5], "methodolog": 4, "well": 4, "thief": 4, "2017": 4, "kourentz": 4, "petropoulo": 4, "f": 4, "european": 4, "oper": 4, "research": 4, "262": 4, "60": 4, "74": 4, "org": 4, "ejor": 4, "02": 4, "046": 4, "immutable_set": [3, 5], "subset": 3, "unchang": 3, "dure": 3, "agg_period": [4, 5], "forecast_frequ": [4, 5], "constructor": [4, 5], "ensur": 4, "reason": 4, "factor": 4, "maximum": [], "temporalhfmodel": 0, "randomli": 5, "consid": 5, "perio": 5, "6": [4, 5], "120": 5, "agg_12": 5, "agg_6": 5, "agg_3": 5, "agg_2": 5, "agg_1": 5, "next": 5, "month": [4, 5], "year": [4, 5], "fcast": 5, "5": 5, "89485775": 5, "94742887": 5, "47371444": 5, "98247629": 5, "49123815": 5, "023196": 5, "187241": 5, "358036": 5, "248526": 5, "186900": 5, "683057": 5, "742426": 5, "178560": 5, "455563": 5, "144290": 5, "504512": 5, "525026": 5, "810293": 5, "290112": 5, "317474": 5, "indic": 4, "mani": 4, "max": 4, "possibl": [4, 5], "could": [4, 5], "quarter": 4, "four": 4, "half": 4, "dict": [2, 4, 5], "dictionari": 5, "If": 5, "strategi": 5, "immut": 5, "univari": [2, 4, 5], "argument": 5, "them": 5, "bt": 4, "whose": 4, "either": 2}, "objects": {"pyhts": [[3, 0, 1, "", "HFModel"], [4, 0, 1, "", "Hierarchy"], [5, 0, 1, "", "TemporalHFModel"], [4, 0, 1, "", "TemporalHierarchy"], [2, 3, 1, "", "mae"], [2, 3, 1, "", "mape"], [2, 3, 1, "", "mase"], [2, 3, 1, "", "mse"], [2, 3, 1, "", "rmse"], [2, 3, 1, "", "smape"]], "pyhts.HFModel": [[3, 1, 1, "", "__init__"], [3, 1, 1, "", "fit"], [3, 1, 1, "", "predict"]], "pyhts.Hierarchy": [[2, 1, 1, "", "accuracy"], [2, 1, 1, "", "accuracy_base"], [4, 1, 1, "", "new"], [4, 2, 1, "", "node_level"], [4, 2, 1, "", "node_name"], [4, 2, 1, "", "period"], [4, 2, 1, "", "s_mat"]], "pyhts.TemporalHFModel": [[5, 1, 1, "", "__init__"], [5, 1, 1, "", "fit"], [5, 1, 1, "", "generate_base_forecast"], [5, 1, 1, "", "predict"]], "pyhts.TemporalHierarchy": [[2, 1, 1, "", "accuracy"], [4, 1, 1, "", "aggregate_ts"], [4, 2, 1, "", "level_name"], [4, 1, 1, "", "new"], [4, 2, 1, "", "node_level"], [4, 2, 1, "", "node_name"], [4, 2, 1, "", "s_mat"]]}, "objtypes": {"0": "py:class", "1": "py:method", "2": "py:attribute", "3": "py:function"}, "objnames": {"0": ["py", "class", "Python class"], "1": ["py", "method", "Python method"], "2": ["py", "attribute", "Python attribute"], "3": ["py", "function", "Python function"]}, "titleterms": {"welcom": 0, "pyht": 0, "s": 0, "document": 0, "quickstart": 0, "quick": 1, "start": 1, "introduct": 1, "defin": [1, 3, 4, 5], "hierarchi": [1, 4], "hfmodel": [1, 3], "fit": [1, 3, 5], "model": [1, 2, 3, 5], "forecast": [1, 3, 5], "measur": 1, "evalu": [2, 5], "hierarch": [3, 5], "api": [3, 5], "exampl": [3, 5], "custom": 3, "base": 3, "refer": [3, 4], "cross": 4, "section": 4, "tempor": [4, 5], "temporalhfmodel": 5, "predict": 5}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 56}})